<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.ImageView?>

<StackPane xmlns="http://javafx.com/javafx/21"
           xmlns:fx="http://javafx.com/fxml"
           alignment="CENTER"
           fx:controller="tn.esprit.synergygig.controllers.ClientOfferController">

    <!-- ðŸŒŒ Galaxy Background -->
    <Pane fx:id="animatedBackground"/>

    <!-- Glass Card -->
    <VBox spacing="25"
          alignment="TOP_CENTER"
          maxWidth="950"
          prefWidth="950"
          style="-fx-padding:40;
                 -fx-background-color: rgba(255,255,255,0.06);
                 -fx-background-radius:25;
                 -fx-border-color: rgba(255,255,255,0.1);
                 -fx-border-radius:25;">

        <!-- LOGO -->
        <ImageView fx:id="logoImage"
                   fitWidth="180"
                   preserveRatio="true"/>

        <!-- TITLE -->
        <Label text="Manage My Offers"
               styleClass="title-galaxy"/>

        <!-- ===== FORM ===== -->
        <GridPane hgap="20" vgap="18">

            <columnConstraints>
                <ColumnConstraints percentWidth="15"/>
                <ColumnConstraints percentWidth="85"/>
            </columnConstraints>

            <!-- Title -->
            <Label text="Title"
                   styleClass="label-galaxy"
                   GridPane.halignment="RIGHT"/>

            <TextField fx:id="titleField"
                       promptText="Enter offer title"
                       GridPane.columnIndex="1"/>

            <!-- Description -->
            <Label text="Description"
                   styleClass="label-galaxy"
                   GridPane.rowIndex="1"
                   GridPane.halignment="RIGHT"/>

            <TextArea fx:id="descriptionArea"
                      prefRowCount="3"
                      promptText="Enter description"
                      GridPane.columnIndex="1"
                      GridPane.rowIndex="1"/>

            <!-- Type -->
            <Label text="Type"
                   styleClass="label-galaxy"
                   GridPane.rowIndex="2"
                   GridPane.halignment="RIGHT"/>

            <ComboBox fx:id="typeBox"
                      GridPane.columnIndex="1"
                      GridPane.rowIndex="2"/>

            <!-- ðŸ”¥ Image Upload -->
            <Label text="Image"
                   styleClass="label-galaxy"
                   GridPane.rowIndex="3"
                   GridPane.halignment="RIGHT"/>

            <HBox spacing="15"
                  alignment="CENTER_LEFT"
                  GridPane.columnIndex="1"
                  GridPane.rowIndex="3">

                <Button text="ðŸ“· Upload Image"
                        onAction="#handleUploadImage"
                        styleClass="btn-primary"/>

                <ImageView fx:id="previewImage"
                           fitHeight="60"
                           preserveRatio="true"/>
            </HBox>

        </GridPane>

        <!-- ===== BUTTONS ===== -->
        <HBox spacing="20" alignment="CENTER">
            <Button text="âž• Add"
                    onAction="#addOffer"
                    styleClass="btn-primary"/>

            <Button text="âœ Update"
                    onAction="#updateOffer"
                    styleClass="btn-warning"/>

            <Button text="ðŸ—‘ Delete"
                    onAction="#deleteOffer"
                    styleClass="btn-danger"/>
        </HBox>

        <!-- ===== TABLE ===== -->
        <TableView fx:id="offerTable"
                   prefHeight="350"
                   VBox.vgrow="ALWAYS"
                   styleClass="table-glass">

            <columns>
                <TableColumn fx:id="colTitle" text="Title"/>
                <TableColumn fx:id="colDescription" text="Description"/>
                <TableColumn fx:id="colType" text="Type"/>
                <TableColumn fx:id="colStatus" text="Status"/>
                <TableColumn fx:id="colImage" text="Image"/>
            </columns>

        </TableView>

    </VBox>

</StackPane>
