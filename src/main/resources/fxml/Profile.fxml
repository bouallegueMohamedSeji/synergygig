<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<ScrollPane xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="controllers.ProfileController"
            fitToWidth="true" style="-fx-background-color: transparent; -fx-border-color: transparent;">

<VBox spacing="24" alignment="TOP_LEFT">
    <padding><Insets top="10" right="10" bottom="30" left="10"/></padding>

    <!-- Page Header -->
    <VBox spacing="4">
        <Label text="My Profile" styleClass="content-title"/>
        <Label text="Manage your personal information and account settings" styleClass="content-subtitle"/>
    </VBox>

    <!-- Top Row: Profile Card + Account Info -->
    <HBox spacing="16" alignment="TOP_LEFT">

        <!-- Profile Identity Card -->
        <VBox styleClass="dashboard-card" HBox.hgrow="ALWAYS" spacing="0" minWidth="280">
            <VBox styleClass="dashboard-card-header" spacing="2">
                <Label text="Profile" styleClass="dashboard-card-title"/>
                <Label text="Your identity at a glance" styleClass="dashboard-card-description"/>
            </VBox>
            <VBox styleClass="dashboard-card-content" spacing="16" alignment="CENTER">
                <!-- Large Avatar -->
                <VBox styleClass="avatar-circle" alignment="CENTER"
                      minWidth="72" minHeight="72" maxWidth="72" maxHeight="72">
                    <Label fx:id="profileAvatarInitial" text="U" styleClass="avatar-initial"
                           style="-fx-font-size: 28; -fx-font-weight: 700;"/>
                </VBox>

                <VBox spacing="4" alignment="CENTER">
                    <Label fx:id="profileFullName" text="Full Name" styleClass="account-name"
                           style="-fx-font-size: 18;"/>
                    <Label fx:id="profileEmail" text="email@example.com" styleClass="account-email"/>
                </VBox>

                <Label fx:id="profileRoleBadge" text="ROLE" styleClass="topbar-role-badge"/>
            </VBox>
        </VBox>

        <!-- Account Details Card -->
        <VBox styleClass="dashboard-card" HBox.hgrow="ALWAYS" spacing="0" minWidth="280">
            <VBox styleClass="dashboard-card-header" spacing="2">
                <Label text="Account Details" styleClass="dashboard-card-title"/>
                <Label text="Your account information" styleClass="dashboard-card-description"/>
            </VBox>
            <VBox styleClass="dashboard-card-content" spacing="12">
                <HBox spacing="8" alignment="CENTER_LEFT">
                    <Label text="&#x1F464;" style="-fx-font-size: 16;"/>
                    <VBox spacing="2" HBox.hgrow="ALWAYS">
                        <Label text="First Name" styleClass="stat-label"/>
                        <Label fx:id="detailFirstName" text="-" styleClass="account-meta"
                               style="-fx-font-size: 14;"/>
                    </VBox>
                </HBox>
                <Separator styleClass="card-separator"/>

                <HBox spacing="8" alignment="CENTER_LEFT">
                    <Label text="&#x1F464;" style="-fx-font-size: 16;"/>
                    <VBox spacing="2" HBox.hgrow="ALWAYS">
                        <Label text="Last Name" styleClass="stat-label"/>
                        <Label fx:id="detailLastName" text="-" styleClass="account-meta"
                               style="-fx-font-size: 14;"/>
                    </VBox>
                </HBox>
                <Separator styleClass="card-separator"/>

                <HBox spacing="8" alignment="CENTER_LEFT">
                    <Label text="&#x2709;" style="-fx-font-size: 16;"/>
                    <VBox spacing="2" HBox.hgrow="ALWAYS">
                        <Label text="Email Address" styleClass="stat-label"/>
                        <Label fx:id="detailEmail" text="-" styleClass="account-meta"
                               style="-fx-font-size: 14;"/>
                    </VBox>
                </HBox>
                <Separator styleClass="card-separator"/>

                <HBox spacing="8" alignment="CENTER_LEFT">
                    <Label text="&#x1F511;" style="-fx-font-size: 16;"/>
                    <VBox spacing="2" HBox.hgrow="ALWAYS">
                        <Label text="Role" styleClass="stat-label"/>
                        <Label fx:id="detailRole" text="-" styleClass="account-meta"
                               style="-fx-font-size: 14;"/>
                    </VBox>
                </HBox>
                <Separator styleClass="card-separator"/>

                <HBox spacing="8" alignment="CENTER_LEFT">
                    <Label text="&#x1F4C5;" style="-fx-font-size: 16;"/>
                    <VBox spacing="2" HBox.hgrow="ALWAYS">
                        <Label text="Member Since" styleClass="stat-label"/>
                        <Label fx:id="detailCreatedAt" text="-" styleClass="account-meta"
                               style="-fx-font-size: 14;"/>
                    </VBox>
                </HBox>
            </VBox>
        </VBox>

    </HBox>

    <!-- Edit Profile Card -->
    <VBox styleClass="dashboard-card" spacing="0">
        <VBox styleClass="dashboard-card-header" spacing="2">
            <Label text="Edit Profile" styleClass="dashboard-card-title"/>
            <Label text="Update your personal information" styleClass="dashboard-card-description"/>
        </VBox>
        <VBox styleClass="dashboard-card-content" spacing="16">
            <HBox spacing="16">
                <VBox spacing="6" styleClass="input-group" HBox.hgrow="ALWAYS">
                    <Label text="First Name" styleClass="input-label"/>
                    <TextField fx:id="firstNameField" styleClass="input-field"/>
                </VBox>
                <VBox spacing="6" styleClass="input-group" HBox.hgrow="ALWAYS">
                    <Label text="Last Name" styleClass="input-label"/>
                    <TextField fx:id="lastNameField" styleClass="input-field"/>
                </VBox>
            </HBox>

            <HBox spacing="16">
                <VBox spacing="6" styleClass="input-group" HBox.hgrow="ALWAYS">
                    <Label text="Email Address" styleClass="input-label"/>
                    <TextField fx:id="emailField" styleClass="input-field"/>
                </VBox>
                <VBox spacing="6" styleClass="input-group" HBox.hgrow="ALWAYS">
                    <Label text="New Password" styleClass="input-label"/>
                    <PasswordField fx:id="passwordField" promptText="Leave empty to keep current"
                                   styleClass="input-field"/>
                </VBox>
            </HBox>

            <VBox spacing="6" styleClass="input-group">
                <Label text="Role" styleClass="input-label"/>
                <TextField fx:id="roleField" styleClass="input-field" editable="false"
                           style="-fx-opacity: 0.6;"/>
            </VBox>

            <Label fx:id="statusLabel" styleClass="success-label" text="" managed="false" visible="false"/>

            <HBox spacing="12" alignment="CENTER_RIGHT">
                <Button text="Save Changes" onAction="#handleSave" styleClass="btn-primary"
                        prefWidth="180"/>
            </HBox>
        </VBox>
    </VBox>

</VBox>
</ScrollPane>
